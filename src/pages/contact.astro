---
export async function POST({ request }) {
  const data = await request.formData();
  const name = data.get('name');
  const email = data.get('email');
  const subject = data.get('subject');
  const message = data.get('message');

  console.log('ðŸ“¨ Contact Form Submitted:', { name, email, subject, message });

  // You could send an email, store in DB, etc. here

  return new Response(null, {
    status: 303,
    headers: {
      Location: '/contact?success=1',
    },
  });
}

const success = new URL(Astro.request.url).searchParams.get('success');
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Contact</title>
</head>
<body>
  <h1>Contact Us</h1>

  {success && <p style="color:green;">âœ… Message sent successfully!</p>}

  <form method="POST">
    <label>Name: <input name="name" required /></label><br /><br />
    <label>Email: <input name="email" type="email" required /></label><br /><br />
    <label>Subject: <input name="subject" /></label><br /><br />
    <label>Message: <textarea name="message" required></textarea></label><br /><br />
    <button type="submit">Send</button>
  </form>
</body>
</html>
